<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta google-site-verification="WyLBDFVmaejbUqIefBev5CcMRFKKh9doT7LQhgWkBgM"><meta rating="safe for kids"><title>Instrumenting the Accelerometer - Red Peregrine</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Red Peregrine"><meta name="msapplication-TileImage" content="/img/personal-blog/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Red Peregrine"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Converting my accelerometer capability test from UWP to Godot 3."><meta property="og:type" content="article"><meta property="og:title" content="Instrumenting the Accelerometer"><meta property="og:url" content="https://www.redperegrine.net/2018/09/03/instrumenting-the-accelerometer/"><meta property="og:site_name" content="Red Peregrine"><meta property="og:description" content="Converting my accelerometer capability test from UWP to Godot 3."><meta property="og:locale" content="en_US"><meta property="og:image" content="https://www.redperegrine.net/2018/09/03/instrumenting-the-accelerometer/acceleration-420.jpg"><meta property="article:published_time" content="2018-09-09T10:08:52.000Z"><meta property="article:modified_time" content="2021-08-24T22:29:09.134Z"><meta property="article:author" content="Carl Scarlett"><meta property="article:tag" content="Godot"><meta property="article:tag" content="Sensor"><meta property="article:tag" content="GDScript"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/2018/09/03/instrumenting-the-accelerometer/acceleration-420.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.redperegrine.net/2018/09/03/instrumenting-the-accelerometer/"},"headline":"Instrumenting the Accelerometer","image":["https://www.redperegrine.net/2018/09/03/instrumenting-the-accelerometer/acceleration-420.jpg"],"datePublished":"2018-09-09T10:08:52.000Z","dateModified":"2021-08-24T22:29:09.134Z","author":{"@type":"Person","name":"Carl Scarlett"},"publisher":{"@type":"Organization","name":"Red Peregrine","logo":{"@type":"ImageObject","url":"https://www.redperegrine.net/img/personal-blog/logo.svg"}},"description":"Converting my accelerometer capability test from UWP to Godot 3."}</script><link rel="canonical" href="https://www.redperegrine.net/2018/09/03/instrumenting-the-accelerometer/"><link rel="icon" href="/img/personal-blog/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.0.1/styles/base16/oceanicnext.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red%20Hat%20Display:wght@400;700&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/personal-blog/logo.svg" alt="Red Peregrine" height="56"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="Index" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><span class="image"><img class="fill" src="/2018/09/03/instrumenting-the-accelerometer/acceleration-420.jpg" alt="Instrumenting the Accelerometer"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-09-09T10:08:52.000Z" title="9/9/2018, 6:08:52 PM">2018-09-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-08-24T22:29:09.134Z" title="8/25/2021, 6:29:09 AM">2021-08-25</time></span><span class="level-item">15 minutes read (About 2222 words)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>&nbsp;visits</span></div></div><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><a class="link-muted" href="/categories/gamedev/">gamedev</a><span> / </span><a class="link-muted" href="/categories/gamedev/indiedev/">indiedev</a><span> / </span><a class="link-muted" href="/categories/godot/">godot</a><span> / </span><a class="link-muted" href="/categories/zodproj/">zodproj</a><span> / </span><a class="link-muted" href="/categories/godot/gdscript/">gdscript</a></span></div></div><h1 class="title is-3 is-size-4-mobile">Instrumenting the Accelerometer</h1><div class="content"><p>Converting my accelerometer capability test from UWP to Godot 3.</p>
<span id="more"></span>



      <a style="background-color:black;color:white;text-decoration:none;padding:4px 6px;font-size:12px;line-height:1.2;display:inline-block;border-radius:3px" class="mt-3 mb-2" target="_blank" rel="noopener" href="https://singularityhub.com/2015/02/07/the-acceleration-of-acceleration-how-the-future-is-arriving-far-faster-than-expected/">
        <i class="fas fa-camera mr-2"></i><em>Shutterstock Image</em> (recoloured)
      </a>
    


<h1 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h1><p>Having successfully ported my touch manipulation capability test from UWP to Godot 3 (the subject of <a href="/2018/08/21/say-gday-to-godot%5C">my last post</a>) it was time to prove the capability of another sensor using Godot; the accelerometer.  I haven’t posted about this test before (even on my <a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCnH_0IE9-uVdAv5Ku1UazeQ">you-tube channel</a>), so let me set the scene for you.</p>
<p>The game I’m developing will be controlled by tilting a smartphone or tablet in the real world.  Even in their cheapest form, these devices tend to have an accelerometer sensor.  Some expensive ones have additional sensors such as gyroscopes and magnetometers which can also be used to determine/enhance how the device is tilted in space.  Though prior research and testing I discovered I can get the degree of control I need for the game I’m building using the accelerometer alone.  Initially this was revealed with a capability test (the remake of which is the subject of this post), but also later when I developed playable parts of the game on the previous game engine I was developing myself (see <a href="/2017/12/23/measuring-csharp-perf-with-benchmarkdotnet">my first post</a>).</p>
<h1 id="Accelerometer-Crash-Course"><a href="#Accelerometer-Crash-Course" class="headerlink" title="Accelerometer Crash Course"></a>Accelerometer Crash Course</h1><p>Imagine the screen you’re reading this on is a device with an accelerometer.  The accelerometer in this device defines it’s movement through real world space using a 3D cartesian coordinate system.  It defines an x, y, and z axis through the screen as follows:</p>
<ul>
<li>the x axis passes across the face of the screen from left to right</li>
<li>the y axis passes across the face of the screen from top to bottom</li>
<li>the z axis passes through the screen from back (behind) to front</li>
</ul>
<article class="message message-immersive is-primary zodnote">
      <div class="message-body">
        <span class="tag is-primary mr-2">NOTE</span>
        If you’re wondering, the origin of the axes (the point where all three axes intersect) is the top-left hand corner of the screen.  However that doesn’t matter when we are talking about readings from the accelerometer.
      </div>
    </article>
    


<p>The accelerometer measures the acceleration of the device in real world space on these three axes at the time a reading is taken.  Readings from the accelerometer are split into x, y, and z values.  The accelerometer sensor is constantly measuring so it can provide values any time you take a reading.</p>
<h1 id="The-Gravity-of-the-Situation"><a href="#The-Gravity-of-the-Situation" class="headerlink" title="The Gravity of the Situation"></a>The Gravity of the Situation</h1><p>The key thing to understand is that gravity is always affecting these readings.  Unless you’re lucky enough to be holding this device in outer-space or on another world, the force of Earth’s gravity is constantly accelerating the device towards the centre of the Earth.  If the device is placed on a stationary table and you read the accelerometer you’ll find a force of 9.8 meters per second towards the centre of the Earth being reflected in the results.  That’s the amount of force gravity is exerting on the device and the direction in which it is being exerted.</p>
<p>This fact can be used to determine the orientation of the device in the real world, and therefore how much the device is tilting.  This amount of tilt is what is used to control the game.</p>
<h1 id="Visualising-the-Reading"><a href="#Visualising-the-Reading" class="headerlink" title="Visualising the Reading"></a>Visualising the Reading</h1><p>For the purpose of this capability test, the screen is a 2D surface on which I want to show the 3D reading from the accelerometer sensor.  I chose to represent the x and y component of each reading as a line from the centre of the screen pointing in the same x and y direction, with a length reflecting the strength of the reading in that direction.  I also chose to draw a circle around the screen centre to indicate where a force of 9.8 metres per second is, so that if the screen was perfectly stationary and upright (where z == 0) the line would terminate at the circle.  This lets me demonstrate rotation around the device’s z axis.</p>
<p>For showing the z value of the reading I needed to be creative.  I chose to represent the z component by changing the fill colour of the circle.  When the z reading is zero, the circle is transparent.  When the screen is facing the centre of the Earth, the circle is solid green.  When the screen is facing away from the centre of the Earth, the circle is solid red.  As the screen tilts towards and away from the centre of the Earth, the colour gradually changes between these three colour values.</p>
<p>The end result is that it becomes easy to see which direction the centre of the Earth is on the device as you tilt it through space.  It’s quite difficult to explain in words, so let’s jump ahead and see a video of this in action after this capability test has been implemented.</p>

    <div class="video-container" style="padding-top:0.49em">
      
    <div class="video-container" style="padding-top:0">
      <iframe src="https://www.youtube.com/embed/HXTu3S-CrmE" frameborder="0" loading="lazy" allowfullscreen=""></iframe>
    </div>
  
    </div>
  <p class="has-text-centered is-size-6 caption" style="color: #7a7a7a;padding-top: 6px">Accelerometer capability test in Godot on my Android phone</p>


<h1 id="Reading-the-Accelerometer-in-Godot"><a href="#Reading-the-Accelerometer-in-Godot" class="headerlink" title="Reading the Accelerometer in Godot"></a>Reading the Accelerometer in Godot</h1><p>In UWP the accelerometer sensor is exposed in the <code>Windows.Devices.Sensors</code>.  You define the interval at which readings will be taken, and an event handler that will receive each readings.  In the previous implementation of this capability test I wrapped this sensor object in a service that stored the values as readings came in, and the application simply read from this service when it is was ready to take a reading.</p>
<p>In Godot 3, the accelerometer sensor is exposed as a function <code>get_accelerometer()</code> on the <code>Input</code> singleton, which returns a <code>Vector3</code> containing the x, y, and z values.  At the time I was coding, the Godot help system described the functionality of this method as:</p>
<blockquote><p>If the device has an accelerometer, this will return the movement.</p>
</blockquote>

<p>I knew my Surface Pro (where I do all my coding) had an accelerometer from when I wrote my UWP version of the capability test.  When I read the sensor in Godot however, I was only getting zeros.  Confused and unable to figure it out myself, I turned to <a target="_blank" rel="noopener" href="https://discordapp.com/invite/zH7NUgz">Godot Discord</a> for help.</p>
<p>Some friends there did some digging and found the <code>get_accelerometer()</code> method only returns values when you export your code and run it on a device where an implementation has been written.  Though it’s fortunate that both UWP and Android (my primary targets) have this implementation, being forced to export the code to test it every time is far from ideal.  Unless I came up with a plan, I wouldn’t have a tight development loop and progress on my entire game would be painstakingly slow.</p>
<article class="message message-immersive is-primary zodnote">
      <div class="message-body">
        <span class="tag is-primary mr-2">MAKING IT BETTER</span>
        The documentation totally misled me here but there’s a couple of things I can do to make it better.  The first is to submit a pull request on the documentation to write better text and prevent confusion.  The second is to request for the Godot development team (or community contributor) to implement accelerometer support within the editor (if the device supports it).  I plan to take an action on these.
      </div>
    </article>
    


<h1 id="Tightening-the-Development-Loop"><a href="#Tightening-the-Development-Loop" class="headerlink" title="Tightening the Development Loop"></a>Tightening the Development Loop</h1><p>I wanted to simulate moving the device in real space while in the editor, but I knew <code>get_accelerometer()</code> would only return zeroes when running there.  However I could make an accelerometer sensor node (a facade) that exposed readings from <code>get_accelerometer()</code> when it was returning values, and create touch controls to manually update the values when <code>get_accelerometer()</code> wasn’t returning values.  Then if I only consume the facade my application would work in both scenarios.</p>
<p>I designed a touchscreen vertical slider for the left edge of the screen whose value controlled the x and y readings on the sensor facade.  Dragging up and down the slider would change its value between 0 and 360, which I would transform into a 2D direction in x and y using sine and cosine trigonometric functions.  I allowed the slider to cycle through this range several times down the screen, and put a marker at every zero point.</p>
<p>Similarly I designed a touchscreen horizontal slider for the bottom edge of the screen to change it’s value between -180 and 180 and use it to control the z reading on the sensor facade.</p>
<p>Using what I had learned about touch input from my manipulations test to quickly knocked out <code>TouchSliderVertical</code> and <code>TouchSliderHorizontal</code> nodes.  I created an <code>AccelerometerSensor</code> node (the facade) that would read from <code>get_accelerometer()</code> a few times when it started up, and if it didn’t get a non-zero reading it would determine that the accelerometer sensor wasn’t present.  It would set a boolean flag to indicate if the sensor was available, and not read the sensor further if it determined it wasn’t there.  This flag was also used to disable the touch sliders if the sensor was available (so the sliders wouldn’t appear if they weren’t required).</p>
<h1 id="Putting-it-all-Together"><a href="#Putting-it-all-Together" class="headerlink" title="Putting it all Together"></a>Putting it all Together</h1><p>Now it was time to put all this into a scene.  I built a <code>SensorDisplay</code> node to draw the line and the circle, using the readings from the <code>AccelerometerSensor</code> facade (node).  A script on the root node connected up all the necessary signals to marshall readings from the touch sliders to the facade, and to disable them if the sensor was present.  I even threw in a <code>DebugLabel</code> to show the state of the <code>AccelerometerSensor</code>.</p>
<p>Here’s a video of it all hooked up and running from the Godot editor.  You can see the touch sliders in action,  how they modify the readings of the accelerometer facade, and thus drive the display.</p>

    <div class="video-container" style="padding-top:0.49em">
      
    <div class="video-container" style="padding-top:0">
      <iframe src="https://www.youtube.com/embed/LfvbE7FNmTQ" frameborder="0" loading="lazy" allowfullscreen=""></iframe>
    </div>
  
    </div>
  <p class="has-text-centered is-size-6 caption" style="color: #7a7a7a;padding-top: 6px">Accelerometer capability test in Godot running from the Editor</p>

<h1 id="Smoothing-Sensor-Readings-with-Filters"><a href="#Smoothing-Sensor-Readings-with-Filters" class="headerlink" title="Smoothing Sensor Readings with Filters"></a>Smoothing Sensor Readings with Filters</h1><p>I know from experience that raw readings from an accelerometer sensor are noisy and not suitable for using as input in most cases.  The way around this is to filter the readings to smooth out the values.</p>
<p>There are many strategies that can be employed to smooth the data, and choosing the one that works for you takes some experimentation.  From previous efforts I’ve found a simple low-pass filter is adequate for my needs.  Such a filter uses both the previous value and the current reading, performs some simple mathematics and creates a new value.  This is remarkably easy to do, and given a good dampening <code>coefficient</code> (again found through trial and error) the readings become smoother and more useful.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var x = <span class="number">0.0</span></span><br><span class="line">var y = <span class="number">0.0</span></span><br><span class="line">var z = <span class="number">0.0</span></span><br><span class="line">var coefficient = <span class="number">0.35</span></span><br><span class="line"></span><br><span class="line">func _process(delta):</span><br><span class="line">  var reading = Input.get_accelerometer()</span><br><span class="line">    x = x + coefficient * (reading.x - x)</span><br><span class="line">    y = y + coefficient * (reading.y - y)</span><br><span class="line">    z = z + coefficient * (reading.z - z)</span><br></pre></td></tr></tbody></table></figure>
<p class="has-text-centered is-size-6 caption" style="color:#7a7a7a;margin-top:0.3em;margin-bottom:1em">A simple low-pass filter to smooth readings from the accelerometer</p>

<article class="message message-immersive is-primary zodnote">
      <div class="message-body">
        <span class="tag is-primary mr-2">GDSCRIPT VS C#</span>
        It’s worth comparing the implementation of this filter with the implementation from my previous capability test in C# on UWP.  In the previous test I separated the accelerometer facade and the smoothing function, then replicated values in a view model and synchronised them with the sensors own <code>ReadingChanged</code> event and the <code>INotifyPropertyChanged</code> event.  The implementation was spread across multiple files, and while technically and architecturally acceptable, the simplicity of the implementation in GDScript gives me comfort and confidence in moving ahead on the Godot platform.
      </div>
    </article>
    

<h1 id="Exporting-to-Target-Platforms"><a href="#Exporting-to-Target-Platforms" class="headerlink" title="Exporting to Target Platforms"></a>Exporting to Target Platforms</h1><p>You’ve already seen the end result on Android in the video earlier in this post.  While exporting to my phone (another device) may feel more complex, it’s actually the easier export path.  Once setup, the Android export is as simple as clicking a button in Godot and it’s all done for you.</p>
<p>Exporting to UWP is more difficult as Godot doesn’t handle bumping up the version number or completely signing the exported file out of the box.  It does handle signing with a developer key automatically on export which is something, however to run the result on Windows you also need to sign the resulting file with a certificate to create a trusted executable.  I currently do the non-Godot actions on the command line, and I plan to take some time to automate this with script in the future.</p>
<p>Despite the clunky export process, once you have the executable it works just as well as the Android version.</p>

    <div class="video-container" style="padding-top:0.49em">
      
    <div class="video-container" style="padding-top:0">
      <iframe src="https://www.youtube.com/embed/x_SJiU7rkOY" frameborder="0" loading="lazy" allowfullscreen=""></iframe>
    </div>
  
    </div>
  <p class="has-text-centered is-size-6 caption" style="color: #7a7a7a;padding-top: 6px">Accelerometer capability test in Godot running on my Surface Pro</p>


<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>Although it wasn’t as issue-free a journey as I was expecting the result is pretty satisfying.  I was again impressed with the ease at which the Godot solution came together, and hopefully making the accelerometer work when running from the editor can be added to the platform in the future to make the developer experience even better.</p>
<p>Coding this capability test in Godot was all too easy and the challenges I encountered were relatively simple to resolve.  I was helped greatly with my experience having built this test before, however it’s encouraging to know that if you know what you want to build then building it in Godot is a pleasurable and productive experience.</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Instrumenting the Accelerometer</p><p><a href="https://www.redperegrine.net/2018/09/03/instrumenting-the-accelerometer/">https://www.redperegrine.net/2018/09/03/instrumenting-the-accelerometer/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Carl Scarlett</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2018-09-09</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2021-08-25</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/godot/">Godot</a><a class="link-muted mr-2" rel="tag" href="/tags/sensor/">Sensor</a><a class="link-muted mr-2" rel="tag" href="/tags/gdscript/">GDScript</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2018/09/21/menu-all-gui/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Waiter...my Menu is all GUI!</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2018/08/21/say-gday-to-godot/"><span class="level-item">Saying G&#039;day to Godot</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://www.redperegrine.net/2018/09/03/instrumenting-the-accelerometer/';
            this.page.identifier = '2018/09/03/instrumenting-the-accelerometer/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'http-www-redperegrine-net' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://www.gravatar.com/avatar/78e9bc2dd2c2726ff6cd3891fd9dd4bc?s=128" alt="Carl Scarlett"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Carl Scarlett</p><p class="is-size-6 is-block">Designer, Developer, Dreamer, Doer</p><p class="is-size-6 is-flex justify-content-center is-location"><i class="fas fa-map-marker-alt mr-1"></i><span>Perth, Western Australia</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">21</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">23</p></a></div></div></nav><div class="level"><a class="level-item button follow-button is-primary is-rounded" href="https://twitter.com/ZodmanPerth" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button link-button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ZodmanPerth"><i class="fab fa-github"></i></a><a class="level-item button link-button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/ZodmanPerth"><i class="fab fa-twitter"></i></a><a class="level-item button link-button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/carlscarlett/"><i class="fab fa-linkedin"></i></a><a class="level-item button link-button is-transparent is-marginless" target="_blank" rel="noopener" title="YouTube" href="https://www.youtube.com/user/ZodmanPerth"><i class="fab fa-youtube"></i></a><a class="level-item button link-button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Index</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Background"><span class="level-left"><span class="level-item">1</span><span class="level-item">Background</span></span></a></li><li><a class="level is-mobile" href="#Accelerometer-Crash-Course"><span class="level-left"><span class="level-item">2</span><span class="level-item">Accelerometer Crash Course</span></span></a></li><li><a class="level is-mobile" href="#The-Gravity-of-the-Situation"><span class="level-left"><span class="level-item">3</span><span class="level-item">The Gravity of the Situation</span></span></a></li><li><a class="level is-mobile" href="#Visualising-the-Reading"><span class="level-left"><span class="level-item">4</span><span class="level-item">Visualising the Reading</span></span></a></li><li><a class="level is-mobile" href="#Reading-the-Accelerometer-in-Godot"><span class="level-left"><span class="level-item">5</span><span class="level-item">Reading the Accelerometer in Godot</span></span></a></li><li><a class="level is-mobile" href="#Tightening-the-Development-Loop"><span class="level-left"><span class="level-item">6</span><span class="level-item">Tightening the Development Loop</span></span></a></li><li><a class="level is-mobile" href="#Putting-it-all-Together"><span class="level-left"><span class="level-item">7</span><span class="level-item">Putting it all Together</span></span></a></li><li><a class="level is-mobile" href="#Smoothing-Sensor-Readings-with-Filters"><span class="level-left"><span class="level-item">8</span><span class="level-item">Smoothing Sensor Readings with Filters</span></span></a></li><li><a class="level is-mobile" href="#Exporting-to-Target-Platforms"><span class="level-left"><span class="level-item">9</span><span class="level-item">Exporting to Target Platforms</span></span></a></li><li><a class="level is-mobile" href="#Conclusion"><span class="level-left"><span class="level-item">10</span><span class="level-item">Conclusion</span></span></a></li></ul></div></div><script src="/js/toc.js" defer></script></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/2021/08/25/red-peregrine-2-0/"><img src="/2021/08/25/red-peregrine-2-0/thumb.jpg" alt="Red Peregrine 2.0"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-08-24T23:35:28.000Z">2021-08-25</time></p><p class="title"><a href="/2021/08/25/red-peregrine-2-0/">Red Peregrine 2.0</a></p><p class="categories"><a href="/categories/zodproj/">zodproj</a> / <a href="/categories/hexo/">hexo</a> / <a href="/categories/hexo/icarus/">icarus</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/04/10/software-algorithms-for-k-combinations/"><img src="/2021/04/10/software-algorithms-for-k-combinations/thumb.jpg" alt="Software Algorithms for k-combinations"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-04-09T23:42:02.000Z">2021-04-10</time></p><p class="title"><a href="/2021/04/10/software-algorithms-for-k-combinations/">Software Algorithms for k-combinations</a></p><p class="categories"><a href="/categories/zodproj/">zodproj</a> / <a href="/categories/tests/">tests</a> / <a href="/categories/tests/performance/">performance</a> / <a href="/categories/mathematics/">mathematics</a> / <a href="/categories/mathematics/k-combinations/">k-combinations</a> / <a href="/categories/algorithms/">algorithms</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/04/25/building-a-pause-menu-part-4/"><img src="/2020/04/25/building-a-pause-menu-part-4/palacio-80x80.jpg" alt="Building a Pause Menu - Part 4"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-03-25T00:56:12.000Z">2020-03-25</time></p><p class="title"><a href="/2020/04/25/building-a-pause-menu-part-4/">Building a Pause Menu - Part 4</a></p><p class="categories"><a href="/categories/gamedev/">gamedev</a> / <a href="/categories/gamedev/indiedev/">indiedev</a> / <a href="/categories/godot/">godot</a> / <a href="/categories/zodproj/">zodproj</a> / <a href="/categories/series/">series</a> / <a href="/categories/series/pausemenu/">PauseMenu</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/03/15/building-a-pause-menu-part-3/"><img src="/2020/03/15/building-a-pause-menu-part-3/guillaume-840x420.jpg" alt="Building a Pause Menu - Part 3"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-03-15T02:29:49.000Z">2020-03-15</time></p><p class="title"><a href="/2020/03/15/building-a-pause-menu-part-3/">Building a Pause Menu - Part 3</a></p><p class="categories"><a href="/categories/gamedev/">gamedev</a> / <a href="/categories/gamedev/indiedev/">indiedev</a> / <a href="/categories/godot/">godot</a> / <a href="/categories/zodproj/">zodproj</a> / <a href="/categories/series/">series</a> / <a href="/categories/series/pausemenu/">PauseMenu</a> / <a href="/categories/design/">design</a> / <a href="/categories/design/process/">process</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2019/12/27/building-a-pause-menu-part-2/"><img src="/2019/12/27/building-a-pause-menu-part-2/living-with-elephants-foundation-300x300.jpg" alt="Building a Pause Menu - Part 2"></a></figure><div class="media-content"><p class="date"><time dateTime="2019-12-27T08:17:50.000Z">2019-12-27</time></p><p class="title"><a href="/2019/12/27/building-a-pause-menu-part-2/">Building a Pause Menu - Part 2</a></p><p class="categories"><a href="/categories/gamedev/">gamedev</a> / <a href="/categories/gamedev/indiedev/">indiedev</a> / <a href="/categories/godot/">godot</a> / <a href="/categories/zodproj/">zodproj</a> / <a href="/categories/series/">series</a> / <a href="/categories/series/pausemenu/">PauseMenu</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">August 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">April 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">November 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">September 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">August 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/05/"><span class="level-start"><span class="level-item">May 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">March 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">December 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/algorithms/"><span class="level-start"><span class="level-item">algorithms</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/design/"><span class="level-start"><span class="level-item">design</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/design/process/"><span class="level-start"><span class="level-item">process</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/developer/"><span class="level-start"><span class="level-item">developer</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/developer/flow/"><span class="level-start"><span class="level-item">flow</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/developer/productivity/"><span class="level-start"><span class="level-item">productivity</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/gamedev/"><span class="level-start"><span class="level-item">gamedev</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/gamedev/gameengine/"><span class="level-start"><span class="level-item">gameengine</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/gamedev/indiedev/"><span class="level-start"><span class="level-item">indiedev</span></span><span class="level-end"><span class="level-item tag">9</span></span></a><ul><li><a class="level is-mobile" href="/categories/gamedev/indiedev/gameengine/"><span class="level-start"><span class="level-item">gameengine</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/godot/"><span class="level-start"><span class="level-item">godot</span></span><span class="level-end"><span class="level-item tag">8</span></span></a><ul><li><a class="level is-mobile" href="/categories/godot/gdscript/"><span class="level-start"><span class="level-item">gdscript</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/hexo/"><span class="level-start"><span class="level-item">hexo</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/hexo/icarus/"><span class="level-start"><span class="level-item">icarus</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/mathematics/"><span class="level-start"><span class="level-item">mathematics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/mathematics/k-combinations/"><span class="level-start"><span class="level-item">k-combinations</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/series/"><span class="level-start"><span class="level-item">series</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/series/pausemenu/"><span class="level-start"><span class="level-item">PauseMenu</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/tests/"><span class="level-start"><span class="level-item">tests</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/tests/performance/"><span class="level-start"><span class="level-item">performance</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/zodproj/"><span class="level-start"><span class="level-item">zodproj</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/algorithms/"><span class="tag">Algorithms</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/benchmarkdotnet/"><span class="tag">BenchmarkDotNet</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/blog/"><span class="tag">Blog</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/c/"><span class="tag">C#</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/design/"><span class="tag">Design</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gdscript/"><span class="tag">GDScript</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gui/"><span class="tag">GUI</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/game-maker/"><span class="tag">Game Maker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gameblog/"><span class="tag">GameBlog</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/github-gist/"><span class="tag">GitHub Gist</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/godot/"><span class="tag">Godot</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">Hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/icarus/"><span class="tag">Icarus</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linqpad/"><span class="tag">LINQPad</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/msbuild/"><span class="tag">MSBuild</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mathematics/"><span class="tag">Mathematics</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/menu/"><span class="tag">Menu</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sensor/"><span class="tag">Sensor</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/uwp/"><span class="tag">UWP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unity/"><span class="tag">Unity</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unreal/"><span class="tag">Unreal</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/visual-studio/"><span class="tag">Visual Studio</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/win2d/"><span class="tag">Win2d</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://godotengine.org/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Godot</span></span><span class="level-right"><span class="level-item tag">godotengine.org</span></span></a></li><li><a class="level is-mobile" href="https://github.com/Microsoft/Win2D" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Win2D</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://github.com/dotnet/BenchmarkDotNet" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">BenchmarkDotNet</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://www.linqpad.net/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">LINQPad</span></span><span class="level-right"><span class="level-item tag">www.linqpad.net</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/personal-blog/logo.svg" alt="Red Peregrine" height="28"></a><p class="is-size-7"><span>&copy; 2021 Carl Scarlett</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br>[<a href="https://github.com/ZodmanPerth/hexo-theme-icarus" target="_blank" rel="noopener">Modified</a> by Carl Scarlett]<br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="What are you looking for?"></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"What are you looking for?","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>